i=1;
i=i+1;

（多核CPU）
cpu1->main memory->i->cache i+1 -> cache(2) -> main memory(2)

cpu2->main memory->i->cache i+1 -> cache(2) -> main memory(2)

1.给数据总线加锁
       （数据总线，地址总线，控制总线）
       LOCK#

2.CPU高速缓存一致性协议
       Intel MESI

核心思想
1.当CPU写入数据的时候，如果发现该数据被共享（也就是说其他CPU也存在该变量的副本），会发送一个信号，通知其他CPU该变量的缓存无效。
2.当其他CPU访问该变量的时候，重新到主内存去获取。

